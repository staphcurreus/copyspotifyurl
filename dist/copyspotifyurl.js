(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var e;e=async function(){for(;null==Spicetify||!Spicetify.showNotification||null==Spicetify||!Spicetify.ContextMenu;)await new Promise(e=>setTimeout(e,100));let p={copied:"Copied",error:"Error",copyUrl:"Copy Spotify URL"};new Spicetify.ContextMenu.Item(p.copyUrl,async e=>{try{var i=(e=>{var i=e.type,t=e._base62Id||e.id;switch(i){case Spicetify.URI.Type.TRACK:return"https://open.spotify.com/track/"+t;case Spicetify.URI.Type.ALBUM:return"https://open.spotify.com/album/"+t;case Spicetify.URI.Type.ARTIST:return"https://open.spotify.com/artist/"+t;case Spicetify.URI.Type.PLAYLIST:case Spicetify.URI.Type.PLAYLIST_V2:return"https://open.spotify.com/playlist/"+t;case Spicetify.URI.Type.SHOW:return"https://open.spotify.com/show/"+t;case Spicetify.URI.Type.EPISODE:return"https://open.spotify.com/episode/"+t;case Spicetify.URI.Type.PROFILE:return"https://open.spotify.com/user/"+e.username;default:return null}})(Spicetify.URI.fromString(e[0]));(t=i)?(Spicetify.Platform.ClipboardAPI.copy(t),Spicetify.showNotification(p.copied+": "+t)):Spicetify.showNotification(p.error+": Invalid URI")}catch(e){Spicetify.showNotification(p.error+": "+e.message)}var t},e=>1===e.length&&(e=Spicetify.URI.fromString(e[0]),[Spicetify.URI.Type.TRACK,Spicetify.URI.Type.ALBUM,Spicetify.URI.Type.ARTIST,Spicetify.URI.Type.PLAYLIST,Spicetify.URI.Type.PLAYLIST_V2,Spicetify.URI.Type.SHOW,Spicetify.URI.Type.EPISODE,Spicetify.URI.Type.PROFILE].includes(e.type)),"copy").register()},(async()=>{await e()})()})();